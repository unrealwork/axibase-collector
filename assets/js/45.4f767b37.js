(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{131:function(t,e,a){t.exports=a.p+"assets/img/pi-atsd-metrics.458d9b64.png"},132:function(t,e,a){t.exports=a.p+"assets/img/pi-metric-exec-status.d18c4da4.png"},133:function(t,e,a){t.exports=a.p+"assets/img/pi-metric-test.996035bf.png"},134:function(t,e,a){t.exports=a.p+"assets/img/pi-metric-job.2622427d.png"},135:function(t,e,a){t.exports=a.p+"assets/img/pijdbc-datasource.9b674b83.png"},136:function(t,e,a){t.exports=a.p+"assets/img/atsd-metric-ba.b2875874.png"},137:function(t,e,a){t.exports=a.p+"assets/img/pi-tag-ba-info.c647d661.png"},323:function(t,e,a){"use strict";a.r(e);var r=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"content"},[r("h1",{attrs:{id:"pi-server"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#pi-server","aria-hidden":"true"}},[t._v("#")]),t._v(" PI Server")]),r("h2",{attrs:{id:"overview"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#overview","aria-hidden":"true"}},[t._v("#")]),t._v(" Overview")]),r("p",[t._v("This document describes how to copy PI Tag attributes from a "),r("a",{attrs:{href:"http://www.osisoft.com/pi-system/pi-capabilities/pi-server/",target:"_blank",rel:"noopener noreferrer"}},[t._v("PI Server")]),t._v(" into the corresponding "),r("a",{attrs:{href:"https://axibase.com/docs/atsd/api/meta/metric/list.html#fields",target:"_blank",rel:"noopener noreferrer"}},[t._v("metric")]),t._v(" fields in the Axibase Time Series Database.")]),r("p",[t._v("The process involves enabling a JDBC job in Axibase Collector.")]),r("h2",{attrs:{id:"attributes"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#attributes","aria-hidden":"true"}},[t._v("#")]),t._v(" Attributes")]),r("table",[r("thead",[r("tr",[r("th",[r("strong",[t._v("PI Tag Attribute")])]),r("th",[r("strong",[t._v("ATSD Metric Attribute")])]),r("th",[r("strong",[t._v("Type")])])])]),r("tbody",[r("tr",[r("td",[t._v("tag")]),r("td",[t._v("name (lowercased, normalized)")]),r("td",[t._v("field")])]),r("tr",[r("td",[t._v("tag")]),r("td",[t._v("label")]),r("td",[t._v("field")])]),r("tr",[r("td",[t._v("descriptor")]),r("td",[t._v("description")]),r("td",[t._v("field")])]),r("tr",[r("td",[t._v("zero")]),r("td",[t._v("min")]),r("td",[t._v("field")])]),r("tr",[r("td",[t._v("zero + span")]),r("td",[t._v("max")]),r("td",[t._v("field")])]),r("tr",[r("td",[t._v("engunits")]),r("td",[t._v("units")]),r("td",[t._v("field")])]),r("tr",[r("td",[t._v("step")]),r("td",[t._v("interpolation (0=>linear, 1=>previous)")]),r("td",[t._v("field")])]),r("tr",[r("td",[t._v("pointtypex")]),r("td",[t._v("data type (converted to ATSD type)")]),r("td",[t._v("field")])]),r("tr",[r("td",[t._v("creationdate")]),r("td",[t._v("creation_date")]),r("td",[t._v("tag")])]),r("tr",[r("td",[t._v("digitalset")]),r("td",[t._v("digital_set")]),r("td",[t._v("tag")])]),r("tr",[r("td",[t._v("pointsource")]),r("td",[t._v("point_source")]),r("td",[t._v("tag")])]),r("tr",[r("td",[t._v("pointtype")]),r("td",[t._v("point_type")]),r("td",[t._v("tag")])]),r("tr",[r("td",[t._v("pointtypex")]),r("td",[t._v("point_data_type")]),r("td",[t._v("tag")])]),r("tr",[r("td",[t._v("typicalvalue")]),r("td",[t._v("typical_value")]),r("td",[t._v("tag")])])])]),r("p",[t._v("In addition to copying PI Point attributes, the job can be configured to populate the metrics' timezone field based on the selected timezone identifier.")]),r("p",[r("img",{attrs:{src:a(137),alt:""}})]),r("h3",{attrs:{id:"atsd-metric-info"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#atsd-metric-info","aria-hidden":"true"}},[t._v("#")]),t._v(" ATSD Metric Info")]),r("p",[r("img",{attrs:{src:a(136),alt:""}})]),r("h2",{attrs:{id:"requirements"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#requirements","aria-hidden":"true"}},[t._v("#")]),t._v(" Requirements")]),r("ul",[r("li",[t._v("PI SQL Data Access Server "),r("code",[t._v("1.5+")])]),r("li",[t._v("PI JDBC Driver "),r("code",[t._v("1.5+")])])]),r("h2",{attrs:{id:"installation-steps"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#installation-steps","aria-hidden":"true"}},[t._v("#")]),t._v(" Installation Steps")]),r("h3",{attrs:{id:"provide-axibase-collector-with-pi-jdbc-driver"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#provide-axibase-collector-with-pi-jdbc-driver","aria-hidden":"true"}},[t._v("#")]),t._v(" Provide Axibase Collector with PI JDBC Driver")]),r("ul",[r("li",[t._v("Install the PI JDBC Driver:")])]),r("pre",{pre:!0,attrs:{class:"language-sh"}},[r("code",[r("span",{attrs:{class:"token function"}},[t._v("cd")]),t._v(" "),r("span",{attrs:{class:"token variable"}},[t._v("$PATH_TO_PI_JDBC_DRIVER_ARCHIVE")]),t._v("\n"),r("span",{attrs:{class:"token function"}},[t._v("tar")]),t._v(" -xzvf pijdbc_2016-x86-x64_.tar.gz\n"),r("span",{attrs:{class:"token function"}},[t._v("cd")]),t._v(" pijdbc_2016-x86-x64_/pipc/jdbc\n"),r("span",{attrs:{class:"token function"}},[t._v("sudo")]),t._v(" ./install.sh\n"),r("span",{attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),r("span",{attrs:{class:"token function"}},[t._v("chown")]),t._v(" -R "),r("span",{attrs:{class:"token variable"}},[t._v("$USER")]),t._v(" /opt/pipc\n")])]),r("ul",[r("li",[t._v("Copy the PI JDBC Driver to the Axibase Collector's "),r("code",[t._v("ext")]),t._v(" folder:")])]),r("pre",{pre:!0,attrs:{class:"language-sh"}},[r("code",[r("span",{attrs:{class:"token function"}},[t._v("cp")]),t._v(" /opt/pipc/jdbc/PIJDBCDriver.jar "),r("span",{attrs:{class:"token variable"}},[t._v("$AXIBASE_COLLECTOR_HOME")]),t._v("/ext/\n")])]),r("ul",[r("li",[t._v("Restart Axibase Collector:")])]),r("pre",{pre:!0,attrs:{class:"language-sh"}},[r("code",[r("span",{attrs:{class:"token variable"}},[t._v("$AXIBASE_COLLECTOR_HOME")]),t._v("/bin/stop-collector.sh\n"),r("span",{attrs:{class:"token variable"}},[t._v("$AXIBASE_COLLECTOR_HOME")]),t._v("/bin/start-collector.sh\n")])]),r("h3",{attrs:{id:"import-pi-server-job-into-axibase-collector"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#import-pi-server-job-into-axibase-collector","aria-hidden":"true"}},[t._v("#")]),t._v(" Import PI Server job into Axibase Collector")]),r("ul",[r("li",[t._v("Open "),r("strong",[t._v("Jobs:Import")]),t._v(" and upload the file "),r("a",{attrs:{href:"https://github.com/unrealwork/axibase-collector/blob/master/jobs/examples/pi/pi_jdbc_metric.xml",target:"_blank",rel:"noopener noreferrer"}},[t._v("pi_jdbc_metric.xml")]),t._v(".")])]),r("h3",{attrs:{id:"configure-pi-server-database-connection"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#configure-pi-server-database-connection","aria-hidden":"true"}},[t._v("#")]),t._v(" Configure PI Server Database Connection")]),r("ul",[r("li",[t._v("Open the "),r("strong",[t._v("Data Sources:Databases")]),t._v(" page and select the "),r("code",[t._v("PI_JDBC")]),t._v(" database.")]),r("li",[t._v("Provide connection parameters to the target PI Server instance as displayed below:")])]),r("p",[r("img",{attrs:{src:a(135),alt:""}})]),r("ul",[r("li",[t._v("Execute the following test query to check the connection:")])]),r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[t._v("SELECT 1\n")])]),r("ul",[r("li",[t._v("Query result must be "),r("code",[t._v("Query OK")]),t._v(".")])]),r("h3",{attrs:{id:"verify-job-configuration"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#verify-job-configuration","aria-hidden":"true"}},[t._v("#")]),t._v(" Verify Job Configuration")]),r("ul",[r("li",[t._v("Open the "),r("code",[t._v("PI_JDBC_META_METRIC")]),t._v(" job.")]),r("li",[t._v("Set the Data Source to "),r("code",[t._v("PI_JDBC")]),t._v(".")])]),r("p",[r("img",{attrs:{src:a(134),alt:""}})]),r("ul",[r("li",[t._v("Choose one of the target ATSD instances if your Collector instance is connected to multiple ATSD servers.")]),r("li",[t._v("Save the Job.")]),r("li",[t._v("Open each configuration, click the [Test] button, and review the output.")])]),r("p",[r("img",{attrs:{src:a(133),alt:""}})]),r("h3",{attrs:{id:"schedule-the-job"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#schedule-the-job","aria-hidden":"true"}},[t._v("#")]),t._v(" Schedule the Job")]),r("ul",[r("li",[t._v("Open the "),r("code",[t._v("JDBC Job")]),t._v(" page and click the [Run] button for the PI Server jobs.")]),r("li",[t._v("Make sure that the job status is "),r("code",[t._v("COMPLETED")]),t._v(", and "),r("code",[t._v("Items Read")]),t._v(" and "),r("code",[t._v("Sent commands")]),t._v(" are greater than 0.")])]),r("p",[r("img",{attrs:{src:a(132),alt:""}})]),r("ul",[r("li",[t._v("If there are no errors, set the job status to 'Enabled' and save the job.")])]),r("h3",{attrs:{id:"verify-metrics-in-atsd"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#verify-metrics-in-atsd","aria-hidden":"true"}},[t._v("#")]),t._v(" Verify Metrics in ATSD")]),r("ul",[r("li",[t._v("Log in to ATSD.")]),r("li",[t._v("Click on the Metrics tab and filter metrics by name, e.g. find by prefix "),r("code",[t._v("ba:")]),t._v(". You should see a list of exported PI tags:")])]),r("p",[r("img",{attrs:{src:a(131),alt:""}})])])}],s=a(0),i=Object(s.a)({},function(){this.$createElement;this._self._c;return this._m(0)},r,!1,null,null,null);e.default=i.exports}}]);