<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Axibase Collector | PI Server</title>
    <meta name="description" content="User manual and API reference for Axibase® Time Series Database">
    <link rel="shortcut icon" href="/axibase-collector/favicon.ico">
    
    <link rel="stylesheet" href="/axibase-collector/assets/css/120.styles.ebc2a887.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div><a href="/axibase-collector/" class="home-link router-link-active"><img src="/axibase-collector/images/axibase_logo.png" class="logo"><span class="site-name can-hide">
      Axibase Collector
    </span></a><div class="links"><nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Jobs</span><span class="arrow right"></span></a><ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----><a href="/axibase-collector/jobs/aws.html" class="nav-link">AWS</a></li><li class="dropdown-item"><!----><a href="/axibase-collector/jobs/docker.html" class="nav-link">Docker</a></li><li class="dropdown-item"><!----><a href="/axibase-collector/jobs/file.html" class="nav-link">File</a></li><li class="dropdown-item"><!----><a href="/axibase-collector/jobs/http.html" class="nav-link">HTTP</a></li><li class="dropdown-item"><!----><a href="/axibase-collector/jobs/icmp.html" class="nav-link">ICMP</a></li><li class="dropdown-item"><!----><a href="/axibase-collector/jobs/jdbc.html" class="nav-link">JDBC</a></li><li class="dropdown-item"><!----><a href="/axibase-collector/jobs/jmx.html" class="nav-link">JMX</a></li><li class="dropdown-item"><!----><a href="/axibase-collector/jobs/json.html" class="nav-link">JSON</a></li><li class="dropdown-item"><!----><a href="/axibase-collector/jobs/kafka.html" class="nav-link">Kafka</a></li><li class="dropdown-item"><!----><a href="/axibase-collector/jobs/ovpm.html" class="nav-link">OVPM</a></li><li class="dropdown-item"><!----><a href="/axibase-collector/jobs/pi.html" class="nav-link">PI</a></li><li class="dropdown-item"><!----><a href="/axibase-collector/jobs/snmp.html" class="nav-link">SNMP</a></li><li class="dropdown-item"><!----><a href="/axibase-collector/jobs/socrata.html" class="nav-link">Socrata</a></li><li class="dropdown-item"><!----><a href="/axibase-collector/jobs/tcp.html" class="nav-link">TCP</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Data Sources</span><span class="arrow right"></span></a><ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----><a href="/axibase-collector/jobs/jdbc-data-source.html" class="nav-link">Database</a></li><li class="dropdown-item"><!----><a href="/axibase-collector/jobs/http-pool.html" class="nav-link">HTTP Pool</a></li><li class="dropdown-item"><!----><a href="/axibase-collector/jobs/kafka-consumer.html" class="nav-link">Kafka Consumer</a></li></ul></div></div><div class="nav-item"><a href="/axibase-collector/jobs/examples/" class="nav-link router-link-active">Examples</a></div><!----></nav><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""><!----></div></div></header><div class="sidebar-mask"></div><div class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Jobs</span><span class="arrow right"></span></a><ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----><a href="/axibase-collector/jobs/aws.html" class="nav-link">AWS</a></li><li class="dropdown-item"><!----><a href="/axibase-collector/jobs/docker.html" class="nav-link">Docker</a></li><li class="dropdown-item"><!----><a href="/axibase-collector/jobs/file.html" class="nav-link">File</a></li><li class="dropdown-item"><!----><a href="/axibase-collector/jobs/http.html" class="nav-link">HTTP</a></li><li class="dropdown-item"><!----><a href="/axibase-collector/jobs/icmp.html" class="nav-link">ICMP</a></li><li class="dropdown-item"><!----><a href="/axibase-collector/jobs/jdbc.html" class="nav-link">JDBC</a></li><li class="dropdown-item"><!----><a href="/axibase-collector/jobs/jmx.html" class="nav-link">JMX</a></li><li class="dropdown-item"><!----><a href="/axibase-collector/jobs/json.html" class="nav-link">JSON</a></li><li class="dropdown-item"><!----><a href="/axibase-collector/jobs/kafka.html" class="nav-link">Kafka</a></li><li class="dropdown-item"><!----><a href="/axibase-collector/jobs/ovpm.html" class="nav-link">OVPM</a></li><li class="dropdown-item"><!----><a href="/axibase-collector/jobs/pi.html" class="nav-link">PI</a></li><li class="dropdown-item"><!----><a href="/axibase-collector/jobs/snmp.html" class="nav-link">SNMP</a></li><li class="dropdown-item"><!----><a href="/axibase-collector/jobs/socrata.html" class="nav-link">Socrata</a></li><li class="dropdown-item"><!----><a href="/axibase-collector/jobs/tcp.html" class="nav-link">TCP</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Data Sources</span><span class="arrow right"></span></a><ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----><a href="/axibase-collector/jobs/jdbc-data-source.html" class="nav-link">Database</a></li><li class="dropdown-item"><!----><a href="/axibase-collector/jobs/http-pool.html" class="nav-link">HTTP Pool</a></li><li class="dropdown-item"><!----><a href="/axibase-collector/jobs/kafka-consumer.html" class="nav-link">Kafka Consumer</a></li></ul></div></div><div class="nav-item"><a href="/axibase-collector/jobs/examples/" class="nav-link router-link-active">Examples</a></div><!----></nav><ul class="sidebar-links"><li><a href="/axibase-collector/jobs/examples/activemq/" class="sidebar-link">ActiveMQ</a></li><li><a href="/axibase-collector/jobs/examples/derby/" class="sidebar-link">Derby Database</a></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>File</span><span class="arrow right"></span></p><!----></div></li><li><a href="/axibase-collector/jobs/examples/hp-openview/" class="sidebar-link">HP OpenView</a></li><li><a href="/axibase-collector/jobs/examples/jetty/" class="sidebar-link">Jetty</a></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>JSON</span><span class="arrow right"></span></p><!----></div></li><li><a href="/axibase-collector/jobs/examples/jvm/" class="sidebar-link">JVM</a></li><li><a href="/axibase-collector/jobs/examples/mysql/" class="sidebar-link">MySQL</a></li><li><a href="/axibase-collector/jobs/examples/nginx/" class="sidebar-link">nginx</a></li><li><a href="/axibase-collector/jobs/examples/oracle-enterprise-manager/" class="sidebar-link">Oracle EM</a></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading open"><span>PI</span><span class="arrow down"></span></p><ul class="sidebar-group-items"><li><a href="/axibase-collector/jobs/examples/pi/export-metrics.html" class="sidebar-link">Transform PI points to ATSD metrics</a></li><li><a href="/axibase-collector/jobs/examples/pi/export-archive-data.html" class="active sidebar-link">Export PI archive data as ATSD series</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/axibase-collector/jobs/examples/pi/export-archive-data.html#overview" class="sidebar-link">Overview</a></li><li class="sidebar-sub-header"><a href="/axibase-collector/jobs/examples/pi/export-archive-data.html#requirements" class="sidebar-link">Requirements</a></li><li class="sidebar-sub-header"><a href="/axibase-collector/jobs/examples/pi/export-archive-data.html#pi-job-configuration" class="sidebar-link">PI Job Configuration</a></li><li class="sidebar-sub-header"><a href="/axibase-collector/jobs/examples/pi/export-archive-data.html#pi-task-configuration" class="sidebar-link">PI Task Configuration</a></li><li class="sidebar-sub-header"><a href="/axibase-collector/jobs/examples/pi/export-archive-data.html#verify-metrics-in-atsd" class="sidebar-link">Verify Metrics in ATSD</a></li></ul></li></ul></div></li><li><a href="/axibase-collector/jobs/examples/postgres/" class="sidebar-link">PostgreSQL</a></li><li><a href="/axibase-collector/jobs/examples/scom/" class="sidebar-link">SCOM</a></li><li><a href="/axibase-collector/jobs/examples/socrata/state-government.html" class="sidebar-link">Socrata</a></li><li><a href="/axibase-collector/jobs/examples/solarwinds/" class="sidebar-link">SolarWinds</a></li><li><a href="/axibase-collector/jobs/examples/tomcat/" class="sidebar-link">Tomcat</a></li><li><a href="/axibase-collector/jobs/examples/vmware/" class="sidebar-link">VMware</a></li></ul></div><div class="page"><div class="content"><h1 id="pi-server"><a href="#pi-server" aria-hidden="true" class="header-anchor">#</a> PI Server</h1><h2 id="overview"><a href="#overview" aria-hidden="true" class="header-anchor">#</a> Overview</h2><p>This document describes how to export archive data from a <a href="http://www.osisoft.com/pi-system/pi-capabilities/pi-server/" target="_blank" rel="noopener noreferrer">PI Server</a> into the Axibase Time Series Database as series commands using the Collector PI job.</p><h2 id="requirements"><a href="#requirements" aria-hidden="true" class="header-anchor">#</a> Requirements</h2><ul><li>PI SQL Data Access Server <code>1.5+</code></li><li>PI JDBC Driver <code>1.5+</code></li></ul><p>PI JDBC Driver should be installed and added as a data source in Collector. Follow the steps in <a href="/axibase-collector/jobs/examples/pi/export-metrics.html#provide-axibase-collector-with-pi-jdbc-driver">the tutorial</a> to do it.</p><h2 id="pi-job-configuration"><a href="#pi-job-configuration" aria-hidden="true" class="header-anchor">#</a> PI Job Configuration</h2><p>Select <strong>PI</strong> in the <strong>Jobs</strong> dropdown. Click on the <strong>Add Job</strong> button. Fill in all the necessary fields.</p><p><img src="/axibase-collector/assets/img/pi-job.9b4f898a.png" alt></p><h2 id="pi-task-configuration"><a href="#pi-task-configuration" aria-hidden="true" class="header-anchor">#</a> PI Task Configuration</h2><p>Click on the <strong>Create Configuration</strong> button.
Provide tag-to-entity mapping. You can use freemarker expressions in the <code>Entity</code> field for string manipulations.
If you want to query only a subset of available tags or get picomp2 values satisfying the condition, fill in the <code>WHERE Filter</code> fields.
<img src="/axibase-collector/assets/img/pi-config.1e2e6ec8.png" alt></p><p>When you finish, click on the [Test] button to see the queries executed by the job, returned result set, and generated ATSD network commands. During the test mode the number of queried picomp2 rows is limited by 1000.
<img src="/axibase-collector/assets/img/pi-test-1a.a804d948.png" alt>
If the option <code>Use JOIN Clause while Fetching Tag Names</code> is enabled, only one query is executed:
<img src="/axibase-collector/assets/img/pi-test-1b.1534a7dd.png" alt></p><p><img src="/axibase-collector/assets/img/pi-test-2.07f089af.png" alt><img src="/axibase-collector/assets/img/pi-test-3.28542171.png" alt><img src="/axibase-collector/assets/img/pi-test-4.388e5e01.png" alt><img src="/axibase-collector/assets/img/pi-test-5.3605ec74.png" alt></p><p>When configuration is done, save the job and run it.
You may see the execution details by clicking on the <code>View</code> link in the <code>Execution Details</code> column.
<img src="/axibase-collector/assets/img/pi-jobs-list.7b24da7e.png" alt></p><p>You can see executed queries info by following the <code>Details</code> link.
<img src="/axibase-collector/assets/img/pi-query-statistics.e98605cc.png" alt></p><p>The <code>Tag Statistics</code> button will lead to the page with information on every processed PI tag, such as first and last collected measure time, last value, number of collected measures.
<img src="/axibase-collector/assets/img/pi-tags-statistics.8842dd24.png" alt></p><h2 id="verify-metrics-in-atsd"><a href="#verify-metrics-in-atsd" aria-hidden="true" class="header-anchor">#</a> Verify Metrics in ATSD</h2><ul><li>Log in to ATSD.</li><li>Click on the <code>Entities</code> tab and filter entities by name, e.g. <code>temp</code>.</li></ul><p><img src="/axibase-collector/assets/img/atsd-entity-temp.109523cf.png" alt></p><ul><li>Follow the link in the <code>Metrics</code> column</li></ul><p><img src="/axibase-collector/assets/img/atsd-metric-temp.d8a3acaa.png" alt></p></div><div class="content edit-link"><a href="https://github.com/unrealwork/axibase-collector/edit/master//jobs/examples/pi/export-archive-data.md" target="_blank" rel="noopener noreferrer">Help us improve this page!</a><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div><div class="content page-nav"><p class="inner"><span class="prev">
        ← <a href="/axibase-collector/jobs/examples/pi/export-metrics.html" class="prev">
          Transform PI points to ATSD metrics
        </a></span><span class="next"><a href="/axibase-collector/jobs/examples/postgres/">
          PostgreSQL
        </a> →
      </span></p></div></div></div></div>
    <script src="/axibase-collector/assets/js/46.06674211.js" defer></script><script src="/axibase-collector/assets/js/app.c36882f5.js" defer></script>

    <!-- Start of StatCounter Code -->
    <noscript>
        <div class="statcounter">
            <a href="http://statcounter.com/" title="web analytics">
                <img src="http://c.statcounter.com/10201325/0/473703da/1/" alt="web analytics" class="statcounter">
            </a>
        </div>
    </noscript>
    <!-- End of StatCounter Code -->
  </body>
</html>
