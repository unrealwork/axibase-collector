(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{119:function(t,e,r){t.exports=r.p+"assets/img/pi-atsd-metrics.458d9b64.png"},120:function(t,e,r){t.exports=r.p+"assets/img/pi-metric-exec-status.d18c4da4.png"},121:function(t,e,r){t.exports=r.p+"assets/img/pi-metric-test.996035bf.png"},122:function(t,e,r){t.exports=r.p+"assets/img/pi-metric-job.2622427d.png"},123:function(t,e,r){t.exports=r.p+"assets/img/pijdbc-datasource.9b674b83.png"},124:function(t,e,r){t.exports=r.p+"assets/img/atsd-metric-ba.b2875874.png"},125:function(t,e,r){t.exports=r.p+"assets/img/pi-tag-ba-info.c647d661.png"},330:function(t,e,r){"use strict";r.r(e);var a=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("h1",{attrs:{id:"pi-server"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#pi-server","aria-hidden":"true"}},[t._v("#")]),t._v(" PI Server")]),a("h2",{attrs:{id:"overview"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#overview","aria-hidden":"true"}},[t._v("#")]),t._v(" Overview")]),a("p",[t._v("This document describes how to copy PI Tag attributes from a "),a("a",{attrs:{href:"http://www.osisoft.com/pi-system/pi-capabilities/pi-server/",target:"_blank",rel:"noopener noreferrer"}},[t._v("PI Server")]),t._v(" into the corresponding "),a("a",{attrs:{href:"https://axibase.com/docs/atsd/api/meta/metric/list.html#fields",target:"_blank",rel:"noopener noreferrer"}},[t._v("metric")]),t._v(" fields in the Axibase Time Series Database.")]),a("p",[t._v("The process involves enabling a JDBC job in Axibase Collector.")]),a("h2",{attrs:{id:"attributes"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#attributes","aria-hidden":"true"}},[t._v("#")]),t._v(" Attributes")]),a("table",[a("thead",[a("tr",[a("th",[a("strong",[t._v("PI Tag Attribute")])]),a("th",[a("strong",[t._v("ATSD Metric Attribute")])]),a("th",[a("strong",[t._v("Type")])])])]),a("tbody",[a("tr",[a("td",[t._v("tag")]),a("td",[t._v("name (lowercased, normalized)")]),a("td",[t._v("field")])]),a("tr",[a("td",[t._v("tag")]),a("td",[t._v("label")]),a("td",[t._v("field")])]),a("tr",[a("td",[t._v("descriptor")]),a("td",[t._v("description")]),a("td",[t._v("field")])]),a("tr",[a("td",[t._v("zero")]),a("td",[t._v("min")]),a("td",[t._v("field")])]),a("tr",[a("td",[t._v("zero + span")]),a("td",[t._v("max")]),a("td",[t._v("field")])]),a("tr",[a("td",[t._v("engunits")]),a("td",[t._v("units")]),a("td",[t._v("field")])]),a("tr",[a("td",[t._v("step")]),a("td",[t._v("interpolation (0=>linear, 1=>previous)")]),a("td",[t._v("field")])]),a("tr",[a("td",[t._v("pointtypex")]),a("td",[t._v("data type (converted to ATSD type)")]),a("td",[t._v("field")])]),a("tr",[a("td",[t._v("creationdate")]),a("td",[t._v("creation_date")]),a("td",[t._v("tag")])]),a("tr",[a("td",[t._v("digitalset")]),a("td",[t._v("digital_set")]),a("td",[t._v("tag")])]),a("tr",[a("td",[t._v("pointsource")]),a("td",[t._v("point_source")]),a("td",[t._v("tag")])]),a("tr",[a("td",[t._v("pointtype")]),a("td",[t._v("point_type")]),a("td",[t._v("tag")])]),a("tr",[a("td",[t._v("pointtypex")]),a("td",[t._v("point_data_type")]),a("td",[t._v("tag")])]),a("tr",[a("td",[t._v("typicalvalue")]),a("td",[t._v("typical_value")]),a("td",[t._v("tag")])])])]),a("p",[t._v("In addition to copying PI Point attributes, the job can be configured to populate the metrics' timezone field based on the selected timezone identifier.")]),a("p",[a("img",{attrs:{src:r(125),alt:""}})]),a("h3",{attrs:{id:"atsd-metric-info"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#atsd-metric-info","aria-hidden":"true"}},[t._v("#")]),t._v(" ATSD Metric Info")]),a("p",[a("img",{attrs:{src:r(124),alt:""}})]),a("h2",{attrs:{id:"requirements"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#requirements","aria-hidden":"true"}},[t._v("#")]),t._v(" Requirements")]),a("ul",[a("li",[t._v("PI SQL Data Access Server "),a("code",[t._v("1.5+")])]),a("li",[t._v("PI JDBC Driver "),a("code",[t._v("1.5+")])])]),a("h2",{attrs:{id:"installation-steps"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#installation-steps","aria-hidden":"true"}},[t._v("#")]),t._v(" Installation Steps")]),a("h3",{attrs:{id:"provide-axibase-collector-with-pi-jdbc-driver"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#provide-axibase-collector-with-pi-jdbc-driver","aria-hidden":"true"}},[t._v("#")]),t._v(" Provide Axibase Collector with PI JDBC Driver")]),a("ul",[a("li",[t._v("Install the PI JDBC Driver:")])]),a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("cd $PATH_TO_PI_JDBC_DRIVER_ARCHIVE\ntar -xzvf pijdbc_2016-x86-x64_.tar.gz\ncd pijdbc_2016-x86-x64_/pipc/jdbc\nsudo ./install.sh\nsudo chown -R $USER /opt/pipc\n")])]),a("ul",[a("li",[t._v("Copy the PI JDBC Driver to the Axibase Collector's "),a("code",[t._v("ext")]),t._v(" folder:")])]),a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("cp /opt/pipc/jdbc/PIJDBCDriver.jar $AXIBASE_COLLECTOR_HOME/ext/\n")])]),a("ul",[a("li",[t._v("Restart Axibase Collector:")])]),a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("$AXIBASE_COLLECTOR_HOME/bin/stop-collector.sh\n$AXIBASE_COLLECTOR_HOME/bin/start-collector.sh\n")])]),a("h3",{attrs:{id:"import-pi-server-job-into-axibase-collector"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#import-pi-server-job-into-axibase-collector","aria-hidden":"true"}},[t._v("#")]),t._v(" Import PI Server job into Axibase Collector")]),a("ul",[a("li",[t._v("Open "),a("strong",[t._v("Jobs:Import")]),t._v(" and upload the file "),a("a",{attrs:{href:"pi_jdbc_metric.xml"}},[t._v("pi_jdbc_metric.xml")]),t._v(".")])]),a("h3",{attrs:{id:"configure-pi-server-database-connection"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#configure-pi-server-database-connection","aria-hidden":"true"}},[t._v("#")]),t._v(" Configure PI Server Database Connection")]),a("ul",[a("li",[t._v("Open the "),a("strong",[t._v("Data Sources:Databases")]),t._v(" page and select the "),a("code",[t._v("PI_JDBC")]),t._v(" database.")]),a("li",[t._v("Provide connection parameters to the target PI Server instance as displayed below:")])]),a("p",[a("img",{attrs:{src:r(123),alt:""}})]),a("ul",[a("li",[t._v("Execute the following test query to check the connection:")])]),a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("SELECT 1\n")])]),a("ul",[a("li",[t._v("Query result must be "),a("code",[t._v("Query OK")]),t._v(".")])]),a("h3",{attrs:{id:"verify-job-configuration"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#verify-job-configuration","aria-hidden":"true"}},[t._v("#")]),t._v(" Verify Job Configuration")]),a("ul",[a("li",[t._v("Open the "),a("code",[t._v("PI_JDBC_META_METRIC")]),t._v(" job.")]),a("li",[t._v("Set the Data Source to "),a("code",[t._v("PI_JDBC")]),t._v(".")])]),a("p",[a("img",{attrs:{src:r(122),alt:""}})]),a("ul",[a("li",[t._v("Choose one of the target ATSD instances if your Collector instance is connected to multiple ATSD servers.")]),a("li",[t._v("Save the Job.")]),a("li",[t._v("Open each configuration, click the [Test] button, and review the output.")])]),a("p",[a("img",{attrs:{src:r(121),alt:""}})]),a("h3",{attrs:{id:"schedule-the-job"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#schedule-the-job","aria-hidden":"true"}},[t._v("#")]),t._v(" Schedule the Job")]),a("ul",[a("li",[t._v("Open the "),a("code",[t._v("JDBC Job")]),t._v(" page and click the [Run] button for the PI Server jobs.")]),a("li",[t._v("Make sure that the job status is "),a("code",[t._v("COMPLETED")]),t._v(", and "),a("code",[t._v("Items Read")]),t._v(" and "),a("code",[t._v("Sent commands")]),t._v(" are greater than 0.")])]),a("p",[a("img",{attrs:{src:r(120),alt:""}})]),a("ul",[a("li",[t._v("If there are no errors, set the job status to 'Enabled' and save the job.")])]),a("h3",{attrs:{id:"verify-metrics-in-atsd"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#verify-metrics-in-atsd","aria-hidden":"true"}},[t._v("#")]),t._v(" Verify Metrics in ATSD")]),a("ul",[a("li",[t._v("Log in to ATSD.")]),a("li",[t._v("Click on the Metrics tab and filter metrics by name, e.g. find by prefix "),a("code",[t._v("ba:")]),t._v(". You should see a list of exported PI tags:")])]),a("p",[a("img",{attrs:{src:r(119),alt:""}})])])}],i=r(0),s=Object(i.a)({},function(){this.$createElement;this._self._c;return this._m(0)},a,!1,null,null,null);e.default=s.exports}}]);