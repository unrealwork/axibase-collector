(window.webpackJsonp=window.webpackJsonp||[]).push([[104],{240:function(t,e,s){t.exports=s.p+"assets/img/aws-policy.335212ce.png"},241:function(t,e,s){t.exports=s.p+"assets/img/aws-acl-4.64818bf2.png"},242:function(t,e,s){t.exports=s.p+"assets/img/aws-access-key.a2f57b6d.png"},243:function(t,e,s){t.exports=s.p+"assets/img/aws-acl-3.27b67df7.png"},244:function(t,e,s){t.exports=s.p+"assets/img/aws-acl-2.5ae5afd0.png"},245:function(t,e,s){t.exports=s.p+"assets/img/aws-console.42e21309.png"},270:function(t,e,s){"use strict";s.r(e);var a=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("h1",{attrs:{id:"aws-iam-account-for-cloudwatch"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#aws-iam-account-for-cloudwatch","aria-hidden":"true"}},[t._v("#")]),t._v(" AWS IAM Account for CloudWatch")]),a("h2",{attrs:{id:"overview"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#overview","aria-hidden":"true"}},[t._v("#")]),t._v(" Overview")]),a("p",[t._v("The following document describes the process of creating a "),a("strong",[t._v("read-only")]),t._v(" account used to query statistics from AWS CloudWatch API.")]),a("h2",{attrs:{id:"account-configuration"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#account-configuration","aria-hidden":"true"}},[t._v("#")]),t._v(" Account Configuration")]),a("h3",{attrs:{id:"create-user-group"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#create-user-group","aria-hidden":"true"}},[t._v("#")]),t._v(" Create User Group")]),a("p",[t._v("Login into the AWS Console and locate "),a("strong",[t._v("IAM")]),t._v(" (Identity and Access Management) service under the "),a("strong",[t._v("Security, Identity and Compliance")]),t._v(" section.")]),a("p",[a("img",{attrs:{src:s(245),alt:""}})]),a("p",[t._v("Open the Groups menu and click "),a("strong",[t._v("Create New Group")]),t._v(".")]),a("p",[t._v("Specify group name, for example "),a("code",[t._v("cloudwatch-ro-group")]),t._v(".")]),a("p",[a("img",{attrs:{src:s(244),alt:""}})]),a("h3",{attrs:{id:"create-user"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#create-user","aria-hidden":"true"}},[t._v("#")]),t._v(" Create User")]),a("p",[t._v("Open Users page and click "),a("strong",[t._v("Create New User")]),t._v(".")]),a("p",[t._v("Enter a user name such as "),a("code",[t._v("cloudwatch-ro-user")]),t._v(".")]),a("p",[a("img",{attrs:{src:s(243),alt:""}})]),a("p",[t._v("Generate access and secret keys for the user. Copy the keys for your reference.")]),a("p",[a("img",{attrs:{src:s(242),alt:""}})]),a("p",[t._v("The keys will be required for the AWS job in Axibase Collector.")]),a("h3",{attrs:{id:"add-user-to-group"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#add-user-to-group","aria-hidden":"true"}},[t._v("#")]),t._v(" Add User To Group")]),a("p",[t._v("Open Group page and click on "),a("strong",[t._v("Add Users to Group")]),t._v(".")]),a("p",[t._v("Add "),a("code",[t._v("cloudwatch-ro-user")]),t._v(" to the "),a("code",[t._v("cloudwatch-ro-group")]),t._v(".")]),a("p",[a("img",{attrs:{src:s(241),alt:""}})]),a("h3",{attrs:{id:"grant-permissions"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#grant-permissions","aria-hidden":"true"}},[t._v("#")]),t._v(" Grant Permissions")]),a("p",[t._v("Open the Group page and click "),a("strong",[t._v("Create Group Policy")])]),a("p",[t._v("Enter the following policy text in "),a("code",[t._v("JSON")]),t._v(" format, click "),a("strong",[t._v("Validate Policy")]),t._v(" and save it.")]),a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token property"}},[t._v('"Version"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"2012-10-17"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{attrs:{class:"token property"}},[t._v('"Statement"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{attrs:{class:"token property"}},[t._v('"Action"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n                "),a("span",{attrs:{class:"token string"}},[t._v('"cloudwatch:List*"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),a("span",{attrs:{class:"token string"}},[t._v('"cloudwatch:Get*"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),a("span",{attrs:{class:"token string"}},[t._v('"cloudwatch:Describe*"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),a("span",{attrs:{class:"token string"}},[t._v('"ec2:Describe*"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),a("span",{attrs:{class:"token string"}},[t._v('"autoscaling:Describe*"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),a("span",{attrs:{class:"token string"}},[t._v('"route53:List*"')]),t._v("\n            "),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),a("span",{attrs:{class:"token property"}},[t._v('"Effect"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"Allow"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),a("span",{attrs:{class:"token property"}},[t._v('"Resource"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"*"')]),t._v("\n        "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),a("p",[t._v("The above policy grants users in the "),a("code",[t._v("cloudwatch-ro-group")]),t._v(" permissions to execute various "),a("code",[t._v("Get")]),t._v(", "),a("code",[t._v("List")]),t._v(", and "),a("code",[t._v("Describe")]),t._v(" API methods. This type of policy provides a "),a("strong",[t._v("read-only")]),t._v(" access.")]),a("p",[t._v("The "),a("code",[t._v("cloudwatch:")]),t._v(" actions are required to list available CloudWatch metrics and download statistics, whereas actions for the other namespaces are required to download AWS resource attributes and relationships and store them as metadata in ATSD.")]),a("p",[t._v("To simplify configuration, use wildcards to grant multiple actions using prefix matching. For example, specify "),a("code",[t._v("route53:List*")]),t._v(" action instead of "),a("code",[t._v("route53:ListHealthChecks")]),t._v(" and "),a("code",[t._v("route53:ListTagsForResources")]),t._v(".")]),a("p",[t._v("Sample namespace-specific actions:")]),a("ul",[a("li",[a("a",{attrs:{href:"https://docs.aws.amazon.com/AWSEC2/latest/APIReference/API_DescribeInstances.html",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("ec2:DescribeInstances")])])]),a("li",[a("a",{attrs:{href:"https://docs.aws.amazon.com/AWSEC2/latest/APIReference/API_DescribeVolumes.html",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("ec2:DescribeVolumes")])])]),a("li",[a("a",{attrs:{href:"https://docs.aws.amazon.com/autoscaling/plans/APIReference/API_DescribeScalingPlans.html",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("autoscaling:DescribeScalingPlans")])])]),a("li",[a("a",{attrs:{href:"https://docs.aws.amazon.com/autoscaling/plans/APIReference/API_DescribeScalingPlanResources.html",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("autoscaling:DescribeScalingPlanResources")])])]),a("li",[a("a",{attrs:{href:"https://docs.aws.amazon.com/Route53/latest/APIReference/API_ListTagsForResources.html",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("route53:ListTagsForResources")])])]),a("li",[a("a",{attrs:{href:"https://docs.aws.amazon.com/Route53/latest/APIReference/API_ListHealthChecks.html",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("route53:ListHealthChecks")])])])]),a("p",[a("img",{attrs:{src:s(240),alt:""}})]),a("p",[t._v("You can now query Amazon CloudWatch APIs with the new user account, access key, and secret key.")])])}],r=s(0),n=Object(r.a)({},function(){this.$createElement;this._self._c;return this._m(0)},a,!1,null,null,null);e.default=n.exports}}]);