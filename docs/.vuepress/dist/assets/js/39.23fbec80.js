(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{336:function(e,a,n){"use strict";n.r(a);var t=n(0),_=Object(t.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var e=this,a=e.$createElement,n=e._self._c||a;return n("div",{staticClass:"content"},[n("h1",{attrs:{id:"microsoft-scom-data-queries"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#microsoft-scom-data-queries","aria-hidden":"true"}},[e._v("#")]),e._v(" Microsoft SCOM Data Queries")]),n("ul",[n("li",[e._v("Metrics query:")])]),n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("SELECT LEFT(tme.NAME+'.', CHARINDEX('.',tme.NAME+'.')-1) AS EntityName,\n  REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(mp.MpName, '.2003', ''), '.2007', ''), '.2008', ''), '.2012', ''), '.Windows.Server', '.Server'), 'Server.AD', 'AD'), 'Microsoft.', ''), '.Monitoring', ''), '.Internal', '') + '.' +\n  REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(pc.ObjectName, ' 2008', ''), '$', '.'), '/', '_'), ' : ', '_'), ' ', '_') + '.' +\n  REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(pc.CounterName, 'I/O', 'IO'), ')', ''), '(', ''), ', ', '_'), '. ', '_'), ' ', '_'), '/', '_') AS MetricName,\n  ps.PerfmonInstanceName AS Instance, pdv.SampleValue, pdv.TimeSampled, pdv.TimeAdded\n  FROM dbo.PerformanceDataAllView pdv WITH (NOLOCK, NOWAIT)\n  INNER JOIN dbo.PerformanceSource ps WITH (NOLOCK, NOWAIT) ON pdv.performancesourceinternalid = ps.performancesourceinternalid\n  INNER JOIN dbo.PerformanceCounter pc WITH (NOLOCK, NOWAIT) ON pc.performancecounterid = ps.performancecounterid\n  INNER JOIN Rules r WITH (NOLOCK, NOWAIT) ON ps.RuleId = r.RuleId\n  INNER JOIN ManagementPack mp WITH (NOLOCK, NOWAIT) ON mp.ManagementPackId = r.ManagementPackId\n  INNER JOIN dbo.BaseManagedEntity bme WITH (NOLOCK, NOWAIT) ON ps.BaseManagedEntityId = bme.BaseManagedEntityId\n  INNER JOIN dbo.BaseManagedEntity tme WITH (NOLOCK, NOWAIT) ON tme.BaseManagedEntityId = bme.TopLevelHostEntityId\nWHERE pdv.TimeAdded > ? ORDER BY pdv.TimeSampled\n")])]),n("ul",[n("li",[e._v("Properties queries:")])]),n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("SELECT LEFT(tme.NAME+'.', CHARINDEX('.',tme.NAME+'.')-1) AS Name,\ntme.Name AS FullName,\nDisplayName_55270A70_AC47_C853_C617_236B0CFF9B4C AS DisplayName,\nCollation_10C1C7F7_BA0F_5F9B_C74A_79A891170934 AS Collation,\nDatabaseAutogrow_10C1C7F7_BA0F_5F9B_C74A_79A891170934 AS DatabaseAutogrow,\nDatabaseName_10C1C7F7_BA0F_5F9B_C74A_79A891170934 AS DatabaseName,\nDatabaseSize_10C1C7F7_BA0F_5F9B_C74A_79A891170934 AS DatabaseSize,\nDatabaseSizeNumeric_10C1C7F7_BA0F_5F9B_C74A_79A891170934 AS DatabaseSizeNumeric,\nLogAutogrow_10C1C7F7_BA0F_5F9B_C74A_79A891170934 AS LogAutogrow,\nLogSize_10C1C7F7_BA0F_5F9B_C74A_79A891170934 AS LogSize,\nLogSizeNumeric_10C1C7F7_BA0F_5F9B_C74A_79A891170934 AS LogSizeNumeric,\nOwner_10C1C7F7_BA0F_5F9B_C74A_79A891170934 AS Owner,\nRecoveryModel_10C1C7F7_BA0F_5F9B_C74A_79A891170934 AS RecoveryModel,\nUpdateability_10C1C7F7_BA0F_5F9B_C74A_79A891170934 AS Updateability,\nUserAccess_10C1C7F7_BA0F_5F9B_C74A_79A891170934 AS UserAccess,\nInstanceName_97408C11_D1C8_5BCE_EF78_74F0473964F3 AS InstanceName\nFROM MTV_Database mvi WITH (NOLOCK, NOWAIT)\nINNER JOIN BaseManagedEntity bme WITH (NOLOCK, NOWAIT) ON bme.BaseManagedEntityId = mvi.BaseManagedEntityId\nINNER JOIN BaseManagedEntity tme WITH (NOLOCK, NOWAIT) ON tme.BaseManagedEntityId = bme.TopLevelHostEntityId\n")])]),n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("SELECT LEFT(tme.NAME+'.', CHARINDEX('.',tme.NAME+'.')-1) AS Name,\ntme.Name AS FullName,\nActiveDirectoryObjectSid,\nActiveDirectorySite,\nDNSName,\nDomainDnsName,\nForestDnsName,\nIPAddress,\nIsVirtualMachine,\nLogicalProcessors,\nNetbiosComputerName,\nNetbiosDomainName,\nNetworkName,\nOrganizationalUnit,\nPrincipalName\nFROM MTV_Computer mvi WITH (NOLOCK, NOWAIT)\nINNER JOIN BaseManagedEntity bme WITH (NOLOCK, NOWAIT) ON bme.BaseManagedEntityId = mvi.BaseManagedEntityId\nINNER JOIN BaseManagedEntity tme WITH (NOLOCK, NOWAIT) ON tme.BaseManagedEntityId = bme.TopLevelHostEntityId\n")])]),n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("SELECT LEFT(tme.NAME+'.', CHARINDEX('.',tme.NAME+'.')-1) AS Name,\ntme.Name AS FullName,\nDisplayName_55270A70_AC47_C853_C617_236B0CFF9B4C AS DisplayName,\nOSVersion_66DD9B43_3DC1_3831_95D4_1B03B0A6EA13 AS OSVersion,\nSerialNumber_66DD9B43_3DC1_3831_95D4_1B03B0A6EA13 AS SerialNumber,\nPhysicalMemory_66DD9B43_3DC1_3831_95D4_1B03B0A6EA13 AS PhysicalMemory,\nOSVersionDisplayName_66DD9B43_3DC1_3831_95D4_1B03B0A6EA13 AS OSVersionDisplayName,\nLogicalProcessors_66DD9B43_3DC1_3831_95D4_1B03B0A6EA13 AS LogicalProcessors,\nSystemDrive_66DD9B43_3DC1_3831_95D4_1B03B0A6EA13 AS SystemDrive,\nInstallDate_66DD9B43_3DC1_3831_95D4_1B03B0A6EA13 AS InstallDate,\nWindowsDirectory_66DD9B43_3DC1_3831_95D4_1B03B0A6EA13 AS WindowsDirectory,\nServicePackVersion_66DD9B43_3DC1_3831_95D4_1B03B0A6EA13 AS ServicePackVersion,\nCSDVersion_66DD9B43_3DC1_3831_95D4_1B03B0A6EA13 AS CSDVersion,\nProductType_66DD9B43_3DC1_3831_95D4_1B03B0A6EA13 AS ProductType,\nBuildNumber_66DD9B43_3DC1_3831_95D4_1B03B0A6EA13 AS BuildNumber,\nInstallType_CE8B3D0D_530C_D1DD_B9B7_1FE321B33A6D AS InstallType,\nPowerPlan_CE8B3D0D_530C_D1DD_B9B7_1FE321B33A6D AS PowerPlan,\nInstallType_D96F58D4_4D6E_E538_4736_5639707EF674 AS InstallType,\nPowerPlan_2C2DE865_0CD3_A6B8_51A5_3DABF7B48D4E AS PowerPlan\nFROM MTV_OperatingSystem mvi WITH (NOLOCK, NOWAIT)\nINNER JOIN BaseManagedEntity bme WITH (NOLOCK, NOWAIT) ON bme.BaseManagedEntityId = mvi.BaseManagedEntityId\nINNER JOIN BaseManagedEntity tme WITH (NOLOCK, NOWAIT) ON tme.BaseManagedEntityId = bme.TopLevelHostEntityId\n")])])])}],!1,null,null,null);a.default=_.exports}}]);