<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Collector | Monitoring ActiveMQ with ATSD</title>
    <meta name="description" content="User manual and API reference for AxibaseÂ® Time Series Database">
    <link rel="shortcut icon" href="/docs/axibase-collector/favicon.ico">
    
    <link rel="stylesheet" href="/docs/axibase-collector/assets/css/117.styles.518f94bf.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div><a href="/docs/axibase-collector/" class="home-link router-link-active"><img src="/docs/axibase-collector/images/axibase_logo_green.gif" class="logo"><span class="site-name can-hide">
      Collector
    </span></a><div class="links"><nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Jobs</span><span class="arrow right"></span></a><ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----><a href="/docs/axibase-collector/jobs/aws.html" class="nav-link">AWS</a></li><li class="dropdown-item"><!----><a href="/docs/axibase-collector/jobs/docker.html" class="nav-link">Docker</a></li><li class="dropdown-item"><!----><a href="/docs/axibase-collector/jobs/file.html" class="nav-link">File</a></li><li class="dropdown-item"><!----><a href="/docs/axibase-collector/jobs/http.html" class="nav-link">HTTP</a></li><li class="dropdown-item"><!----><a href="/docs/axibase-collector/jobs/icmp.html" class="nav-link">ICMP</a></li><li class="dropdown-item"><!----><a href="/docs/axibase-collector/jobs/jdbc.html" class="nav-link">JDBC</a></li><li class="dropdown-item"><!----><a href="/docs/axibase-collector/jobs/jmx.html" class="nav-link">JMX</a></li><li class="dropdown-item"><!----><a href="/docs/axibase-collector/jobs/json.html" class="nav-link">JSON</a></li><li class="dropdown-item"><!----><a href="/docs/axibase-collector/jobs/kafka.html" class="nav-link">Kafka</a></li><li class="dropdown-item"><!----><a href="/docs/axibase-collector/jobs/ovpm.html" class="nav-link">OVPM</a></li><li class="dropdown-item"><!----><a href="/docs/axibase-collector/jobs/pi.html" class="nav-link">PI</a></li><li class="dropdown-item"><!----><a href="/docs/axibase-collector/jobs/snmp.html" class="nav-link">SNMP</a></li><li class="dropdown-item"><!----><a href="/docs/axibase-collector/jobs/socrata.html" class="nav-link">Socrata</a></li><li class="dropdown-item"><!----><a href="/docs/axibase-collector/jobs/tcp.html" class="nav-link">TCP</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Data Sources</span><span class="arrow right"></span></a><ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----><a href="/docs/axibase-collector/jobs/jdbc-data-source.html" class="nav-link">Database</a></li><li class="dropdown-item"><!----><a href="/docs/axibase-collector/atsd-server-connection.html#http-pool" class="nav-link">HTTP Pool</a></li><li class="dropdown-item"><!----><a href="/docs/axibase-collector/jobs/kafka-consumer.html" class="nav-link">Kafka Consumer</a></li></ul></div></div><div class="nav-item"><a href="/docs/axibase-collector/#examples" class="nav-link">Examples</a></div><!----></nav><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""><!----></div></div></header><div class="sidebar-mask"></div><div class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Jobs</span><span class="arrow right"></span></a><ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----><a href="/docs/axibase-collector/jobs/aws.html" class="nav-link">AWS</a></li><li class="dropdown-item"><!----><a href="/docs/axibase-collector/jobs/docker.html" class="nav-link">Docker</a></li><li class="dropdown-item"><!----><a href="/docs/axibase-collector/jobs/file.html" class="nav-link">File</a></li><li class="dropdown-item"><!----><a href="/docs/axibase-collector/jobs/http.html" class="nav-link">HTTP</a></li><li class="dropdown-item"><!----><a href="/docs/axibase-collector/jobs/icmp.html" class="nav-link">ICMP</a></li><li class="dropdown-item"><!----><a href="/docs/axibase-collector/jobs/jdbc.html" class="nav-link">JDBC</a></li><li class="dropdown-item"><!----><a href="/docs/axibase-collector/jobs/jmx.html" class="nav-link">JMX</a></li><li class="dropdown-item"><!----><a href="/docs/axibase-collector/jobs/json.html" class="nav-link">JSON</a></li><li class="dropdown-item"><!----><a href="/docs/axibase-collector/jobs/kafka.html" class="nav-link">Kafka</a></li><li class="dropdown-item"><!----><a href="/docs/axibase-collector/jobs/ovpm.html" class="nav-link">OVPM</a></li><li class="dropdown-item"><!----><a href="/docs/axibase-collector/jobs/pi.html" class="nav-link">PI</a></li><li class="dropdown-item"><!----><a href="/docs/axibase-collector/jobs/snmp.html" class="nav-link">SNMP</a></li><li class="dropdown-item"><!----><a href="/docs/axibase-collector/jobs/socrata.html" class="nav-link">Socrata</a></li><li class="dropdown-item"><!----><a href="/docs/axibase-collector/jobs/tcp.html" class="nav-link">TCP</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Data Sources</span><span class="arrow right"></span></a><ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----><a href="/docs/axibase-collector/jobs/jdbc-data-source.html" class="nav-link">Database</a></li><li class="dropdown-item"><!----><a href="/docs/axibase-collector/atsd-server-connection.html#http-pool" class="nav-link">HTTP Pool</a></li><li class="dropdown-item"><!----><a href="/docs/axibase-collector/jobs/kafka-consumer.html" class="nav-link">Kafka Consumer</a></li></ul></div></div><div class="nav-item"><a href="/docs/axibase-collector/#examples" class="nav-link">Examples</a></div><!----></nav><ul class="sidebar-links"><li><a href="/docs/axibase-collector/" class="sidebar-link">Axibase Collector</a></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Installation</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Updating</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Administration</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Job's Configuration</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Automation</span><span class="arrow right"></span></p><!----></div></li></ul></div><div class="page"><div class="content"><h1 id="monitoring-activemq-with-atsd"><a href="#monitoring-activemq-with-atsd" aria-hidden="true" class="header-anchor">#</a> Monitoring ActiveMQ with ATSD</h1><h2 id="overview"><a href="#overview" aria-hidden="true" class="header-anchor">#</a> Overview</h2><p>This document describes the process of configuring ActiveMQ for availability and performance monitoring with the Axibase Time Series Database.</p><h2 id="requirements"><a href="#requirements" aria-hidden="true" class="header-anchor">#</a> Requirements</h2><ul><li><a href="http://activemq.apache.org" target="_blank" rel="noopener noreferrer">ActiveMQ version 5.x.+</a></li></ul><h2 id="installation-steps"><a href="#installation-steps" aria-hidden="true" class="header-anchor">#</a> Installation Steps</h2><h3 id="configure-activemq-server"><a href="#configure-activemq-server" aria-hidden="true" class="header-anchor">#</a> Configure ActiveMQ Server</h3><h4 id="enable-jmx-and-log-aggregator"><a href="#enable-jmx-and-log-aggregator" aria-hidden="true" class="header-anchor">#</a> Enable JMX and Log Aggregator</h4><ul><li>Log in to the ActiveMQ server via SSH.</li><li>Change to the ActiveMQ installation directory.</li></ul><pre class="language-text"><code>cd /opt/apache-activemq-5.13.1
</code></pre><ul><li>Download the log aggregation filter <code>.jar</code> files to the ActiveMQ lib directory:</li></ul><pre class="language-text"><code>wget --content-disposition -P ./lib/ \
   &quot;https://repository.sonatype.org/service/local/artifact/maven/redirect?r=central-proxy&amp;g=com.axibase&amp;a=aggregation-log-filter&amp;v=LATEST&quot;
wget --content-disposition -P ./lib/ \
   &quot;https://repository.sonatype.org/service/local/artifact/maven/redirect?r=central-proxy&amp;g=com.axibase&amp;a=aggregation-log-filter-log4j&amp;v=LATEST&quot;
</code></pre><ul><li>Append aggregation filter settings to the ActiveMQ <code>log4j.properties</code> file. Replace <code>atsd_hostname</code> with the hostname of the ATSD server:</li></ul><pre class="language-text"><code>cat &lt;&lt;EOF &gt;&gt; ./conf/log4j.properties
log4j.appender.logfile.filter.COLLECTOR=com.axibase.tsd.collector.log4j.Log4jCollector
log4j.appender.logfile.filter.COLLECTOR.writerHost=atsd_hostname
EOF
</code></pre><p>See <a href="https://github.com/axibase/aggregation-log-filter" target="_blank" rel="noopener noreferrer">Aggregation Log Filter</a> for additional configuration options.</p><ul><li>Modify JMX settings in ActiveMQ JVM launch options.
<ul><li>Search for the <code>ACTIVEMQ_SUNJMX_START</code> setting and change it as specified below.</li><li>Replace <code>activemq_hostname</code> with the full hostname or the IP address of the ActiveMQ server.</li><li>This should be the same hostname that Axibase Collector will be using when connecting to the ActiveMQ server.</li><li>For more information on configuring JMX in ActiveMQ, see <a href="http://activemq.apache.org/jmx.html" target="_blank" rel="noopener noreferrer">activemq.apache.org/jmx.html</a></li></ul></li></ul><p>ActiveMQ 5.11.x and later:</p><pre class="language-text"><code>vi ./bin/env
</code></pre><pre class="language-text"><code>ACTIVEMQ_SUNJMX_START=&quot;$ACTIVEMQ_SUNJMX_START -Dcom.sun.management.jmxremote&quot;
ACTIVEMQ_SUNJMX_START=&quot;$ACTIVEMQ_SUNJMX_START -Dcom.sun.management.jmxremote.port=1090&quot;
ACTIVEMQ_SUNJMX_START=&quot;$ACTIVEMQ_SUNJMX_START -Dcom.sun.management.jmxremote.rmi.port=1090&quot;
ACTIVEMQ_SUNJMX_START=&quot;$ACTIVEMQ_SUNJMX_START -Dcom.sun.management.jmxremote.ssl=false&quot;
ACTIVEMQ_SUNJMX_START=&quot;$ACTIVEMQ_SUNJMX_START -Djava.rmi.server.hostname=activemq_hostname&quot;
ACTIVEMQ_SUNJMX_START=&quot;$ACTIVEMQ_SUNJMX_START -Dcom.sun.management.jmxremote.password.file=${ACTIVEMQ_CONF}/jmx.password&quot;
ACTIVEMQ_SUNJMX_START=&quot;$ACTIVEMQ_SUNJMX_START -Dcom.sun.management.jmxremote.access.file=${ACTIVEMQ_CONF}/jmx.access&quot;
</code></pre><p>ActiveMQ 5.10.x and earlier:</p><pre class="language-text"><code>vi ./bin/activemq
</code></pre><pre class="language-text"><code>ACTIVEMQ_SUNJMX_START=&quot;-Dcom.sun.management.jmxremote \
   -Dcom.sun.management.jmxremote.port=1090 \
   -Dcom.sun.management.jmxremote.rmi.port=1090 \
   -Dcom.sun.management.jmxremote.ssl=false \
   -Djava.rmi.server.hostname=activemq_hostname \
   -Dcom.sun.management.jmxremote.password.file=${ACTIVEMQ_BASE}/conf/jmx.password \
   -Dcom.sun.management.jmxremote.access.file=${ACTIVEMQ_BASE}/conf/jmx.access&quot;
</code></pre><p>The result should be as shown on the image below:</p><p><img src="https://axibase.com/wp-content/uploads/2016/03/very_new_screen.png" alt="SUN_JMX_START_IMAGE"></p><ul><li>Modify JMX security credential files in the <code>./conf</code> directory.</li></ul><p>jmx.access:</p><pre class="language-text"><code># The &quot;monitorRole&quot; role has readonly access.
monitorRole readonly
</code></pre><p>jmx.password:</p><pre class="language-text"><code># The &quot;monitorRole&quot; role has password &quot;abc123&quot;.
monitorRole abc123
</code></pre><ul><li>Secure access to the <code>jmx.password</code> file by restricting permissions:</li></ul><pre class="language-text"><code>chmod 600 ./conf/jmx.password
</code></pre><ul><li>Restart ActiveMQ server.</li></ul><pre class="language-text"><code>./bin/activemq stop
./bin/activemq start
</code></pre><h4 id="configure-activemq-jmx-job"><a href="#configure-activemq-jmx-job" aria-hidden="true" class="header-anchor">#</a> Configure ActiveMQ JMX Job</h4><ol><li>Log in to Axibase Collector at <code>https://collector_hostname:9443</code>.</li><li>Click the Jobs tab in the top menu.</li><li>Locate the <code>jmx-activemq</code> job.</li><li>On the JMX Job page, enable its status by checking on the 'Enabled' check box.</li><li>Adjust the cron expression if required. By default, the job will be executed every 10 seconds.</li></ol><ul><li>For more information on cron expressions, see <a href="/docs/axibase-collector/scheduling.html">Scheduling</a>.</li></ul><p><img src="https://axibase.com/wp-content/uploads/2016/03/jmx_job_to_configuration.png" alt="JMX_JOB"></p><h5 id="configuring-activemq-series"><a href="#configuring-activemq-series" aria-hidden="true" class="header-anchor">#</a> Configuring activemq-series</h5><ol><li>Select the <code>activemq-series</code> configuration.</li><li>On the JMX Configuration page, enter the JMX connection parameters as above:</li></ol><ul><li><strong>Host</strong> â ActiveMQ hostname. Must be the same as the <code>activemq_hostname</code>.</li><li><strong>Port</strong> â JMX port.</li><li><strong>User Name</strong> â JMX user name such as <code>monitorRole</code>. Read-only permissions are sufficient.</li><li><strong>Password</strong> â Password for JMX user.</li><li><strong>Entity</strong> â Optionally, specify the output of the hostname command on the ActiveMQ server if it's different from <code>activemq_hostname</code> (for example if <code>activemq_hostname</code> represents a fully qualified name).</li></ul><p>Other parameters are optional. For more information on JMX configuration, see <a href="/docs/axibase-collector/jobs/jmx.html">JMX</a>.</p><ol><li>Click Test to validate the configuration.</li></ol><p>If the specified configuration is correct, there must be no errors or empty fields in the test results.</p><ol><li>Click <strong>Save</strong>.</li></ol><p><img src="https://axibase.com/wp-content/uploads/2016/03/series_config_85.png" alt></p><h5 id="configuring-activemq-property"><a href="#configuring-activemq-property" aria-hidden="true" class="header-anchor">#</a> Configuring activemq-property</h5><ol><li>From the table on the JMX Job page, click Edit next to the activemq-property configuration.</li><li>Set Host, Port, User Name, Password, and Entity fields as described in the previous section.</li><li>Click Test to validate the configuration.</li><li>Click Save.</li></ol><p><img src="https://axibase.com/wp-content/uploads/2016/03/enitites_list_full-450x132.png" alt></p><h2 id="viewing-data-in-atsd"><a href="#viewing-data-in-atsd" aria-hidden="true" class="header-anchor">#</a> Viewing Data in ATSD</h2><h3 id="metrics"><a href="#metrics" aria-hidden="true" class="header-anchor">#</a> Metrics</h3><ul><li>List of collected <a href="/docs/axibase-collector/jobs/examples/activemq/metric-list.html">AcriveMQ metrics</a></li></ul><h3 id="properties"><a href="#properties" aria-hidden="true" class="header-anchor">#</a> Properties</h3><ul><li>List of collected <a href="/docs/axibase-collector/jobs/examples/activemq/properties-list.html">Active MQ properties</a></li></ul><h3 id="entity-group"><a href="#entity-group" aria-hidden="true" class="header-anchor">#</a> Entity group</h3><ul><li>Open <strong>Admin:Entity Groups</strong>, click the [Import], button and upload  <a href="configs/activemq_entity_group.xml">activemq_entity_group.xml</a>.</li><li>Select the imported <code>apache-activemq-brokers</code> group.</li><li>Verify that the group contains your Active MQ hosts.</li></ul><h3 id="entity-views"><a href="#entity-views" aria-hidden="true" class="header-anchor">#</a> Entity Views</h3><ul><li>Open <strong>Configuration:Entity Views</strong>, click the [Import] button and upload  <a href="configs/activemq_entity_view.xml">activemq_entity_view.xml</a>.</li><li>Select the imported <code>Apache ActiveMQ Brokers</code> view.</li><li>Select the Entity Group that you created earlier.</li><li>Click on the [View] button and browse information about your entities.</li></ul><p><img src="/docs/axibase-collector/assets/img/activemq_entity_view.47b1f35a.png" alt></p><h3 id="portal"><a href="#portal" aria-hidden="true" class="header-anchor">#</a> Portal</h3><ul><li>Open <strong>Configuration: Portals</strong> and click the [Import] button and upload <a href="configs/activemq_portal.xml">activemq_portal.xml</a>.</li><li>Click the Assign link and associate the portal with the entity group you created earlier.</li><li>Open the Entity tabs, find the java application by name, and click on its portal icon.</li></ul><p><img src="data:image/png;base64,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" alt></p><p><a href="http://apps.axibase.com/chartlab/2f11a5ef" target="_blank" rel="noopener noreferrer"><strong>Active MQ Live Portal</strong></a><img src="https://axibase.com/wp-content/uploads/2016/03/log_portal_example.png" alt></p><h3 id="rules"><a href="#rules" aria-hidden="true" class="header-anchor">#</a> Rules</h3><h3 id="setting-up-mail-client"><a href="#setting-up-mail-client" aria-hidden="true" class="header-anchor">#</a> Setting up Mail Client</h3><ul><li>Configure <a href="https://axibase.com/docs/atsd/administration/mail-client.html" target="_blank" rel="noopener noreferrer">Mail Client</a>.</li></ul><h4 id="import-rules"><a href="#import-rules" aria-hidden="true" class="header-anchor">#</a> Import Rules</h4><ul><li>Open the <strong>Configuration: Rules</strong> page, click the [Import], button and upload <a href="configs/activemq_rules.xml">jvm_rules.xml</a>.</li><li>For each created rule, open it in the Rule Editor, and change the recipient address on the <em>Email Notifications</em> tab.</li><li>These rules will automatically apply to all JVM based applications monitored by Axibase Collector.</li></ul><p>Imported rules:</p><table><thead><tr><th style="text-align:left"><strong>Rule</strong></th><th style="text-align:left"><strong>Description</strong></th></tr></thead><tbody><tr><td style="text-align:left"><em>activemq_broker_configuration_change</em></td><td style="text-align:left">Send a notification on configuration change.</td></tr><tr><td style="text-align:left"><em>activemq_connection_count</em></td><td style="text-align:left">Raise an alert when connection count exceeds the specified threshold.</td></tr><tr><td style="text-align:left"><em>activemq_enqueue_stopped</em></td><td style="text-align:left">Raise an alert when enqueueing stops (no new messages are received).</td></tr><tr><td style="text-align:left"><em>activemq_health_status</em></td><td style="text-align:left">Raise an alert when Activemq health status is abnormal.</td></tr><tr><td style="text-align:left"><em>activemq_unauthorized_connection</em></td><td style="text-align:left">Raise an alert when connection from unauthorized IP adddress is detected.</td></tr></tbody></table><p>To create your own rules, refer to <a href="https://axibase.com/docs/atsd/rule-engine/" target="_blank" rel="noopener noreferrer">Rule Engine documentation</a>.</p></div><div class="content edit-link"><a href="https://github.com/axibase/axibase-collector/edit/master//jobs/examples/activemq/README.md" target="_blank" rel="noopener noreferrer">Help us improve this page!</a><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div><!----></div></div></div>
    <script src="/docs/axibase-collector/assets/js/94.dca02bc5.js" defer></script><script src="/docs/axibase-collector/assets/js/app.2470ced7.js" defer></script>
  </body>
</html>
