<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Collector | AWS IAM Account for CloudWatch</title>
    <meta name="description" content="User manual and API reference for AxibaseÂ® Time Series Database">
    <link rel="shortcut icon" href="/docs/axibase-collector/favicon.ico">
    
    <link rel="stylesheet" href="/docs/axibase-collector/assets/css/117.styles.518f94bf.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div><a href="/docs/axibase-collector/" class="home-link router-link-active"><img src="/docs/axibase-collector/images/axibase_logo_green.gif" class="logo"><span class="site-name can-hide">
      Collector
    </span></a><div class="links"><nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Jobs</span><span class="arrow right"></span></a><ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----><a href="/docs/axibase-collector/jobs/aws.html" class="nav-link">AWS</a></li><li class="dropdown-item"><!----><a href="/docs/axibase-collector/jobs/docker.html" class="nav-link">Docker</a></li><li class="dropdown-item"><!----><a href="/docs/axibase-collector/jobs/file.html" class="nav-link">File</a></li><li class="dropdown-item"><!----><a href="/docs/axibase-collector/jobs/http.html" class="nav-link">HTTP</a></li><li class="dropdown-item"><!----><a href="/docs/axibase-collector/jobs/icmp.html" class="nav-link">ICMP</a></li><li class="dropdown-item"><!----><a href="/docs/axibase-collector/jobs/jdbc.html" class="nav-link">JDBC</a></li><li class="dropdown-item"><!----><a href="/docs/axibase-collector/jobs/jmx.html" class="nav-link">JMX</a></li><li class="dropdown-item"><!----><a href="/docs/axibase-collector/jobs/json.html" class="nav-link">JSON</a></li><li class="dropdown-item"><!----><a href="/docs/axibase-collector/jobs/kafka.html" class="nav-link">Kafka</a></li><li class="dropdown-item"><!----><a href="/docs/axibase-collector/jobs/ovpm.html" class="nav-link">OVPM</a></li><li class="dropdown-item"><!----><a href="/docs/axibase-collector/jobs/pi.html" class="nav-link">PI</a></li><li class="dropdown-item"><!----><a href="/docs/axibase-collector/jobs/snmp.html" class="nav-link">SNMP</a></li><li class="dropdown-item"><!----><a href="/docs/axibase-collector/jobs/socrata.html" class="nav-link">Socrata</a></li><li class="dropdown-item"><!----><a href="/docs/axibase-collector/jobs/tcp.html" class="nav-link">TCP</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Data Sources</span><span class="arrow right"></span></a><ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----><a href="/docs/axibase-collector/jobs/jdbc-data-source.html" class="nav-link">Database</a></li><li class="dropdown-item"><!----><a href="/docs/axibase-collector/atsd-server-connection.html#http-pool" class="nav-link">HTTP Pool</a></li><li class="dropdown-item"><!----><a href="/docs/axibase-collector/jobs/kafka-consumer.html" class="nav-link">Kafka Consumer</a></li></ul></div></div><div class="nav-item"><a href="/docs/axibase-collector/#examples" class="nav-link">Examples</a></div><!----></nav><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""><!----></div></div></header><div class="sidebar-mask"></div><div class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Jobs</span><span class="arrow right"></span></a><ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----><a href="/docs/axibase-collector/jobs/aws.html" class="nav-link">AWS</a></li><li class="dropdown-item"><!----><a href="/docs/axibase-collector/jobs/docker.html" class="nav-link">Docker</a></li><li class="dropdown-item"><!----><a href="/docs/axibase-collector/jobs/file.html" class="nav-link">File</a></li><li class="dropdown-item"><!----><a href="/docs/axibase-collector/jobs/http.html" class="nav-link">HTTP</a></li><li class="dropdown-item"><!----><a href="/docs/axibase-collector/jobs/icmp.html" class="nav-link">ICMP</a></li><li class="dropdown-item"><!----><a href="/docs/axibase-collector/jobs/jdbc.html" class="nav-link">JDBC</a></li><li class="dropdown-item"><!----><a href="/docs/axibase-collector/jobs/jmx.html" class="nav-link">JMX</a></li><li class="dropdown-item"><!----><a href="/docs/axibase-collector/jobs/json.html" class="nav-link">JSON</a></li><li class="dropdown-item"><!----><a href="/docs/axibase-collector/jobs/kafka.html" class="nav-link">Kafka</a></li><li class="dropdown-item"><!----><a href="/docs/axibase-collector/jobs/ovpm.html" class="nav-link">OVPM</a></li><li class="dropdown-item"><!----><a href="/docs/axibase-collector/jobs/pi.html" class="nav-link">PI</a></li><li class="dropdown-item"><!----><a href="/docs/axibase-collector/jobs/snmp.html" class="nav-link">SNMP</a></li><li class="dropdown-item"><!----><a href="/docs/axibase-collector/jobs/socrata.html" class="nav-link">Socrata</a></li><li class="dropdown-item"><!----><a href="/docs/axibase-collector/jobs/tcp.html" class="nav-link">TCP</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Data Sources</span><span class="arrow right"></span></a><ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----><a href="/docs/axibase-collector/jobs/jdbc-data-source.html" class="nav-link">Database</a></li><li class="dropdown-item"><!----><a href="/docs/axibase-collector/atsd-server-connection.html#http-pool" class="nav-link">HTTP Pool</a></li><li class="dropdown-item"><!----><a href="/docs/axibase-collector/jobs/kafka-consumer.html" class="nav-link">Kafka Consumer</a></li></ul></div></div><div class="nav-item"><a href="/docs/axibase-collector/#examples" class="nav-link">Examples</a></div><!----></nav><ul class="sidebar-links"><li><a href="/docs/axibase-collector/" class="sidebar-link">Axibase Collector</a></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Installation</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Updating</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Administration</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Job's Configuration</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Automation</span><span class="arrow right"></span></p><!----></div></li></ul></div><div class="page"><div class="content"><h1 id="aws-iam-account-for-cloudwatch"><a href="#aws-iam-account-for-cloudwatch" aria-hidden="true" class="header-anchor">#</a> AWS IAM Account for CloudWatch</h1><h2 id="overview"><a href="#overview" aria-hidden="true" class="header-anchor">#</a> Overview</h2><p>The following document describes the process of creating a <strong>read-only</strong> account used to query statistics from AWS CloudWatch API.</p><h2 id="account-configuration"><a href="#account-configuration" aria-hidden="true" class="header-anchor">#</a> Account Configuration</h2><h3 id="create-user-group"><a href="#create-user-group" aria-hidden="true" class="header-anchor">#</a> Create User Group</h3><p>Login into the AWS Console and locate <strong>IAM</strong> (Identity and Access Management) service under the <strong>Security, Identity and Compliance</strong> section.</p><p><img src="/docs/axibase-collector/assets/img/aws-console.42e21309.png" alt></p><p>Open the Groups menu and click <strong>Create New Group</strong>.</p><p>Specify group name, for example <code>cloudwatch-ro-group</code>.</p><p><img src="/docs/axibase-collector/assets/img/aws-acl-2.5ae5afd0.png" alt></p><h3 id="create-user"><a href="#create-user" aria-hidden="true" class="header-anchor">#</a> Create User</h3><p>Open Users page and click <strong>Create New User</strong>.</p><p>Enter a user name such as <code>cloudwatch-ro-user</code>.</p><p><img src="/docs/axibase-collector/assets/img/aws-acl-3.27b67df7.png" alt></p><p>Generate access and secret keys for the user. Copy the keys for your reference.</p><p><img src="/docs/axibase-collector/assets/img/aws-access-key.a2f57b6d.png" alt></p><p>The keys will be required for the AWS job in Axibase Collector.</p><h3 id="add-user-to-group"><a href="#add-user-to-group" aria-hidden="true" class="header-anchor">#</a> Add User To Group</h3><p>Open Group page and click on <strong>Add Users to Group</strong>.</p><p>Add <code>cloudwatch-ro-user</code> to the <code>cloudwatch-ro-group</code>.</p><p><img src="/docs/axibase-collector/assets/img/aws-acl-4.64818bf2.png" alt></p><h3 id="grant-permissions"><a href="#grant-permissions" aria-hidden="true" class="header-anchor">#</a> Grant Permissions</h3><p>Open the Group page and click <strong>Create Group Policy</strong></p><p>Enter the following policy text in <code>JSON</code> format, click <strong>Validate Policy</strong> and save it.</p><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;Version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2012-10-17&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;Statement&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;Action&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token string">&quot;cloudwatch:List*&quot;</span><span class="token punctuation">,</span>
                <span class="token string">&quot;cloudwatch:Get*&quot;</span><span class="token punctuation">,</span>
                <span class="token string">&quot;cloudwatch:Describe*&quot;</span><span class="token punctuation">,</span>
                <span class="token string">&quot;ec2:Describe*&quot;</span><span class="token punctuation">,</span>
                <span class="token string">&quot;autoscaling:Describe*&quot;</span><span class="token punctuation">,</span>
                <span class="token string">&quot;route53:List*&quot;</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token property">&quot;Effect&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Allow&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;Resource&quot;</span><span class="token operator">:</span> <span class="token string">&quot;*&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><p>The above policy grants users in the <code>cloudwatch-ro-group</code> permissions to execute various <code>Get</code>, <code>List</code>, and <code>Describe</code> API methods. This type of policy provides a <strong>read-only</strong> access.</p><p>The <code>cloudwatch:</code> actions are required to list available CloudWatch metrics and download statistics, whereas actions for the other namespaces are required to download AWS resource attributes and relationships and store them as metadata in ATSD.</p><p>To simplify configuration, use wildcards to grant multiple actions using prefix matching. For example, specify <code>route53:List*</code> action instead of <code>route53:ListHealthChecks</code> and <code>route53:ListTagsForResources</code>.</p><p>Sample namespace-specific actions:</p><ul><li><a href="https://docs.aws.amazon.com/AWSEC2/latest/APIReference/API_DescribeInstances.html" target="_blank" rel="noopener noreferrer"><code>ec2:DescribeInstances</code></a></li><li><a href="https://docs.aws.amazon.com/AWSEC2/latest/APIReference/API_DescribeVolumes.html" target="_blank" rel="noopener noreferrer"><code>ec2:DescribeVolumes</code></a></li><li><a href="https://docs.aws.amazon.com/autoscaling/plans/APIReference/API_DescribeScalingPlans.html" target="_blank" rel="noopener noreferrer"><code>autoscaling:DescribeScalingPlans</code></a></li><li><a href="https://docs.aws.amazon.com/autoscaling/plans/APIReference/API_DescribeScalingPlanResources.html" target="_blank" rel="noopener noreferrer"><code>autoscaling:DescribeScalingPlanResources</code></a></li><li><a href="https://docs.aws.amazon.com/Route53/latest/APIReference/API_ListTagsForResources.html" target="_blank" rel="noopener noreferrer"><code>route53:ListTagsForResources</code></a></li><li><a href="https://docs.aws.amazon.com/Route53/latest/APIReference/API_ListHealthChecks.html" target="_blank" rel="noopener noreferrer"><code>route53:ListHealthChecks</code></a></li></ul><p><img src="/docs/axibase-collector/assets/img/aws-policy.335212ce.png" alt></p><p>You can now query Amazon CloudWatch APIs with the new user account, access key, and secret key.</p></div><div class="content edit-link"><a href="https://github.com/axibase/axibase-collector/edit/master//jobs/aws-iam.md" target="_blank" rel="noopener noreferrer">Help us improve this page!</a><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div><!----></div></div></div>
    <script src="/docs/axibase-collector/assets/js/102.1c0c0ee7.js" defer></script><script src="/docs/axibase-collector/assets/js/app.2470ced7.js" defer></script>
  </body>
</html>
